
<div class="container dialog-wrap">
    <form  [formGroup]="passwordForm" autocomplete="off" novalidate (ngSubmit)="onFormSubmit(passwordForm.value)">
    <div mat-dialog-content>
        <div class="center" *ngIf="IsWait"><mat-spinner mode="indeterminate"  diameter="30" style="margin:0 auto;">
        </mat-spinner>
        </div>
      <mat-form-field appearance="outline" >
        <mat-label>Current Password</mat-label>
        <input matInput [type]="hide ? 'password' : 'text'" placeholder="Current password" formControlName="currentpassword" >
        <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
            <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
        <mat-error *ngIf="passwordForm.hasError('required', 'currentpassword')">required</mat-error>
      </mat-form-field>
    
     
      <mat-form-field appearance="outline" >
        <mat-label>New Password</mat-label>
        <input matInput [type]="hide2 ? 'password' : 'text'" placeholder="Enter Password"  formControlName="password">
        <button mat-icon-button matSuffix (click)="hide2 = !hide2" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide2">
            <mat-icon>{{hide2 ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <mat-error *ngIf="passwordForm.hasError('required', 'password')">
               password is required
               </mat-error>
               <mat-error *ngIf="passwordForm.hasError('minlength', 'password')">
                Password must be more than 6 characters
                </mat-error>
      </mat-form-field>
    
      <mat-form-field appearance="outline" >
        <mat-label>Confirm Password</mat-label>
        <input matInput [type]="hide3 ? 'password' : 'text'" placeholder="Confirm Password" formControlName="confirmpassword" [errorStateMatcher]="matcher">
        <button mat-icon-button matSuffix (click)="hide3 = !hide3" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide3">
            <mat-icon>{{hide3 ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
    
            <mat-error *ngIf="passwordForm.hasError('notSame')">
              Password does not match
              </mat-error>
      </mat-form-field>
      </div>
    <div mat-dialog-actions>
      <button mat-button type="button" (click)="closeDialog()" mat-flat-button color="warn">Cancel</button>
      <button  mat-button type="submit" [disabled]="!passwordForm.valid">Change</button>
    </div>
    </form>
   
